<html>
<head>
<title>Color Picker</title>
<link rel="stylesheet" type="text/css" href="css/color_picker.css" media="screen" />
<script src="js/color_picker.js"></script>
<script>


document.addEventListener("DOMContentLoaded", function(event) { 
	
	var _color = [255,255,255];
	
	var _color_picker = ColorPicker();
	
	var change_background = document.getElementById("change_background");
	
	change_background.onclick = function(e) {
					
		// Called when user selects a new color
		function onselect() {
			_color = _color_picker.rgb_array();
			console.log(_color);
			document.body.style.background = _color_picker.rgb_string();
			_color_picker.hidePicker();			
		}

		// Called when original color is clicked
		function oncancel() {
			_color_picker.hidePicker();
		}
	
		// pass in the initial color and callbacks
		_color_picker.presentPickerWithColor({
			rgb_array: _color,
			onselect: onselect,
			oncancel: oncancel
		});
	}
});

</script>
<style>
body { font-family: Helvetica; }
</style>
</head>
<body>

<p><a href="#" id="change_background">Change Background Color</a></p>

<!-- Begin Color Picker HTML -->

<div id="color_container">
	<div id="color_swatch">
		<span id="color_old"></span>
		<span id="color_new"></span>
	</div>
	<canvas id="color_box" width="250" height="250"></canvas>
	<canvas id="color_hue" width="40" height="250"></canvas>
</div>

<!-- End Color Picker HTML -->

</body>
</html>